(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{214:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(7),l=a(2),c=a.n(l),o=a(4),m=a(3),u=a(11),i=a(132),d=a.n(i),p=a(19),f=a(18),E=a(10),b=a(14);t.default=Object(o.g)((function(e){const t=Object(s.useContext)(b.a),a=Object(s.useContext)(E.a),[l,i]=Object(s.useState)(!0),[h,w]=Object(s.useState)(),{id:g}=Object(o.f)();if(Object(s.useEffect)(()=>{const e=c.a.CancelToken.source();return(async()=>{try{const t=await c.a.get("/post/"+g,{cancelToken:e.token});w(t.data),i(!1)}catch(e){console.log("There was a problem or request was canceled.")}})(),()=>e.cancel()},[g]),!l&&!h)return n.a.createElement(f.a,null);if(l)return n.a.createElement(r.a,{title:"...loading post"},n.a.createElement(u.a,null));const y=new Date(h.createdDate),N=`${y.getDate()}/${y.getMonth()+1}/${y.getFullYear()}`;return n.a.createElement(r.a,{title:"a post by "+h.author.username},n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("h2",null,""+h.title),!!a.loggedIn&&a.user.username==h.author.username&&n.a.createElement("span",{className:"pt-2"},n.a.createElement(m.b,{"data-tip":"Edit","data-for":"edit",to:`/post/${h._id}/edit`,className:"text-primary mr-2"},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement(p.a,{id:"edit",className:"custom-tooltip"})," ",n.a.createElement("a",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this post?"))try{"Success"==(await c.a.delete("/post/"+g,{data:{token:a.user.token}})).data&&(t({type:"flashMessage",value:"Post was deleted!"}),e.history.push("/profile/"+a.user.username))}catch(e){console.log(e)}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement(p.a,{id:"delete",className:"custom-tooltip"}))),n.a.createElement("p",{className:"text-muted small mb-4"},n.a.createElement(m.b,{to:"/profile/"+h.author.username},n.a.createElement("img",{className:"avatar-tiny",src:h.author.avatar})),"Posted by ",n.a.createElement(m.b,{to:"/profile/"+h.author.username},h.author.username)," on"," ",N),n.a.createElement("div",{className:"body-content"},n.a.createElement(d.a,{source:h.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))}))}}]);